<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>contact</title>

    <!-- font awesome cdn link  -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />

    <!-- custom css file link  -->
    <link rel="stylesheet" href="../css/style.css" />
  </head>

  <body>
    <!-- navbar section starts  -->

    <nav class="navbar">
      <a href="../index.html">
        <i class="fas fa-home"></i> <span>home</span>
      </a>
      <a href="about.html"> <i class="fas fa-user"></i> <span>about</span> </a>
      <a href="portfolio.html">
        <i class="fas fa-briefcase"></i> <span>portfolio</span>
      </a>
      <a href="blogs.html"> <i class="fas fa-blog"></i> <span>blogs</span> </a>
      <a href="contact.html">
        <i class="fas fa-address-book"></i> <span>contact</span>
      </a>
    </nav>

    <!-- navbar section ends -->

    <!-- contact section starts  -->

    <section class="contact">
      <h1 class="heading">contact <span>me</span></h1>

      <div class="row">
        <div class="info-container">
          <h1>get in touch</h1>

          <div class="box-container">
            <div class="box">
              <i class="fas fa-map"></i>
              <div class="info">
                <h3>address :</h3>
                <p>Bekasi, Indonesia - 17158</p>
              </div>
            </div>

            <div class="box">
              <i class="fas fa-envelope"></i>
              <div class="info">
                <h3>email :</h3>
                <p class="lowercase">bagasalesipriatama@gmail.com</p>
              </div>
            </div>

            <div class="box">
              <i class="fas fa-phone"></i>
              <div class="info">
                <h3>number :</h3>
                <p>0895 0844 3811</p>
              </div>
            </div>
          </div>

          <div class="share">
            <a
              href="https://www.facebook.com/bagas.a.priatama.7"
              class="fab fa-facebook-f"
            ></a>
            <a
              href="https://www.instagram.com/bagasalesi_25/"
              class="fab fa-instagram"
            ></a>
            <a href="https://github.com/BagasJR" class="fab fa-github"></a>
            <a
              href="https://www.linkedin.com/in/bagas-alesi-priatama/"
              class="fab fa-linkedin"
            ></a>
            <a
              href="https://medium.com/@bagasalesipriatama"
              class="fab fa-medium"
            ></a>
          </div>
        </div>

        <form
          action="https://formspree.io/f/xblkgkze"
          method="POST"
          id="contactForm"
        >
          <div class="inputBox">
            <input type="text" name="name" placeholder="your name" required />
            <input
              type="tel"
              name="phone"
              placeholder="your number"
              required
              pattern="\d+"
              title="Hanya boleh angka saja (0-9)"
              oninput="this.value = this.value.replace(/[^0-9]/g, '')"
            />
          </div>

          <div class="inputBox">
            <input
              type="email"
              name="email"
              placeholder="your email"
              required
            />
            <input
              type="text"
              name="subject"
              placeholder="your subject"
              required
            />
          </div>

          <textarea
            name="message"
            placeholder="your message"
            cols="30"
            rows="10"
            required
            minlength="20"
          ></textarea>

          <input type="submit" value="send message" class="btn" />
        </form>
      </div>
    </section>

    <!-- contact section ends -->
  </body>
</html>

<script>
  document
    .getElementById("contactForm")
    .addEventListener("submit", function (e) {
      e.preventDefault();

      const form = this;
      const formData = new FormData(form);

      // CEK: Validasi panjang pesan
      const message = formData.get("message");
      if (message.length < 20) {
        alert("Pesan minimal harus 20 karakter.");
        return; // stop pengiriman
      }

      fetch("https://formspree.io/f/xblkgkze", {
        method: "POST",
        body: formData,
        headers: {
          Accept: "application/json",
        },
      })
        .then((response) => {
          if (response.ok) {
            alert("Pesan berhasil dikirim!");
            form.reset();
          } else {
            alert("Terjadi kesalahan saat mengirim pesan.");
          }
        })
        .catch((error) => {
          alert("Gagal mengirim pesan: " + error.message);
        });
    });
</script>

<style>
  .lowercase {
    text-transform: lowercase;
  }
</style>
